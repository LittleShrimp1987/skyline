

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>skyline.crucible package &mdash; Skyline 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="skyline.flux package" href="skyline.flux.html" />
    <link rel="prev" title="skyline.boundary package" href="skyline.boundary.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Skyline
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="alerts.html">Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="monotonic-metrics.html">Strictly increasing monotonicity</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1"><a class="reference internal" href="panorama.html">Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere.html">Ionosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_echo.html">Ionosphere echo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsfresh.html">tsfresh</a></li>
<li class="toctree-l1"><a class="reference internal" href="luminosity.html">Luminosity</a></li>
<li class="toctree-l1"><a class="reference internal" href="flux.html">Flux</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload-data-to-flux.html">upload_data to Flux - EXPERIMENTAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="vista.html">Vista</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="rebrow.html"><span class="red">re</span><span class="brow">brow</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="running-multiple-skylines.html">Running multiple Skyline instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-docs/index.html">Deprecated docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">Whatâ€™s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyline.html">skyline package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyline.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyline.analyzer.html">skyline.analyzer package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.analyzer_dev.html">skyline.analyzer_dev package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.boundary.html">skyline.boundary package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">skyline.crucible package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skyline-crucible-agent-module">skyline.crucible.agent module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-crucible.crucible">skyline.crucible.crucible module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-crucible.crucible_algorithms">skyline.crucible.crucible_algorithms module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-crucible">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyline.flux.html">skyline.flux package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.horizon.html">skyline.horizon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.ionosphere.html">skyline.ionosphere package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.luminosity.html">skyline.luminosity package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.mirage.html">skyline.mirage package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.panorama.html">skyline.panorama package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.tsfresh_features.html">skyline.tsfresh_features package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.vista.html">skyline.vista package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.webapp.html">skyline.webapp package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-algorithm_exceptions">skyline.algorithm_exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-create_matplotlib_graph">skyline.create_matplotlib_graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-custom_algorithms">skyline.custom_algorithms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-custom_algorithms_to_run">skyline.custom_algorithms_to_run module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-database">skyline.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-external_alert_configs">skyline.external_alert_configs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-features_profile">skyline.features_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-ionosphere_functions">skyline.ionosphere_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-matched_or_regexed_in_list">skyline.matched_or_regexed_in_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-settings">skyline.settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-skyline_functions">skyline.skyline_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-skyline_version">skyline.skyline_version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-slack_functions">skyline.slack_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-tsfresh_feature_names">skyline.tsfresh_feature_names module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-validate_settings">skyline.validate_settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Skyline</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="skyline.html">skyline package</a> &raquo;</li>
        
      <li>skyline.crucible package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/skyline.crucible.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="skyline-crucible-package">
<h1>skyline.crucible package<a class="headerlink" href="#skyline-crucible-package" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="skyline-crucible-agent-module">
<h2>skyline.crucible.agent module<a class="headerlink" href="#skyline-crucible-agent-module" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="module-crucible.crucible">
<span id="skyline-crucible-crucible-module"></span><h2>skyline.crucible.crucible module<a class="headerlink" href="#module-crucible.crucible" title="Permalink to this headline">Â¶</a></h2>
<dl class="py class">
<dt id="crucible.crucible.Crucible">
<em class="property">class </em><code class="sig-name descname">Crucible</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_pid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible.html#Crucible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible.Crucible" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<dl class="py method">
<dt id="crucible.crucible.Crucible.check_if_parent_is_alive">
<code class="sig-name descname">check_if_parent_is_alive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible.html#Crucible.check_if_parent_is_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible.Crucible.check_if_parent_is_alive" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Check if the parent process is alive</p>
</dd></dl>

<dl class="py method">
<dt id="crucible.crucible.Crucible.new_load_metric_vars">
<code class="sig-name descname">new_load_metric_vars</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_vars_file</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible.html#Crucible.new_load_metric_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible.Crucible.new_load_metric_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load the metric variables for a check from a metric check variables file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metric_vars_file</strong> (<em>str</em>) â€“ the path and filename to the metric variables files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the metric_vars list or <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="crucible.crucible.Crucible.spin_process">
<code class="sig-name descname">spin_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">run_timestamp</span></em>, <em class="sig-param"><span class="n">metric_check_file</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible.html#Crucible.spin_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible.Crucible.spin_process" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Assign a metric for a process to analyze.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> â€“ python process id</p></li>
<li><p><strong>run_timestamp</strong> â€“ the epoch timestamp at which this process was called</p></li>
<li><p><strong>metric_check_file</strong> â€“ full path to the metric check file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="crucible.crucible.Crucible.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible.html#Crucible.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible.Crucible.run" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Called when the process intializes.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crucible.crucible_algorithms">
<span id="skyline-crucible-crucible-algorithms-module"></span><h2>skyline.crucible.crucible_algorithms module<a class="headerlink" href="#module-crucible.crucible_algorithms" title="Permalink to this headline">Â¶</a></h2>
<dl class="py data">
<dt id="crucible.crucible_algorithms.python_version">
<code class="sig-name descname">python_version</code><em class="property"> = 3</em><a class="headerlink" href="#crucible.crucible_algorithms.python_version" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This is no manâ€™s land. Do anything you want in here,
as long as you return a boolean that determines whether the input
timeseries is anomalous or not.</p>
<p>To add an algorithm, define it here, and add its name to settings.ALGORITHMS.
It must be defined required parameters (even if your algorithm/function does not
need them), as the run_algorithms function passes them to all ALGORITHMS defined
in settings.ALGORITHMS.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.tail_avg">
<code class="sig-name descname">tail_avg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#tail_avg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.tail_avg" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This is a utility function used to calculate the average of the last three
datapoints in the series as a measure, instead of just the last datapoint.
It reduces noise, but it also reduces sensitivity and increases the delay
to detection.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.median_absolute_deviation">
<code class="sig-name descname">median_absolute_deviation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#median_absolute_deviation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.median_absolute_deviation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the deviation of its latest datapoint with
respect to the median is X times larger than the median of deviations.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.grubbs">
<code class="sig-name descname">grubbs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#grubbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.grubbs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the Z score is greater than the Grubbâ€™s score.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.first_hour_average">
<code class="sig-name descname">first_hour_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#first_hour_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.first_hour_average" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calcuate the simple average over 60 datapoints (maybe one hour),
FULL_DURATION seconds ago.
A timeseries is anomalous if the average of the last three datapoints
are outside of three standard deviations of this value.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.stddev_from_average">
<code class="sig-name descname">stddev_from_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#stddev_from_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.stddev_from_average" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the absolute value of the average of the latest
three datapoint minus the moving average is greater than one standard
deviation of the average. This does not exponentially weight the MA and so
is better for detecting anomalies with respect to the entire series.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.stddev_from_moving_average">
<code class="sig-name descname">stddev_from_moving_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#stddev_from_moving_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.stddev_from_moving_average" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the absolute value of the average of the latest
three datapoint minus the moving average is greater than three standard
deviations of the moving average. This is better for finding anomalies with
respect to the short term trends.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.mean_subtraction_cumulation">
<code class="sig-name descname">mean_subtraction_cumulation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#mean_subtraction_cumulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.mean_subtraction_cumulation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the value of the next datapoint in the
series is farther than three standard deviations out in cumulative terms
after subtracting the mean from each data point.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.least_squares">
<code class="sig-name descname">least_squares</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#least_squares"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.least_squares" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the average of the last three datapoints
on a projected least squares model is greater than three sigma.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.histogram_bins">
<code class="sig-name descname">histogram_bins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#histogram_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.histogram_bins" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the average of the last three datapoints falls
into a histogram bin with less than 20 other datapoints (youâ€™ll need to tweak
that number depending on your data)</p>
<p>Returns: the size of the bin which contains the tail_avg. Smaller bin size
means more anomalous.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.ks_test">
<code class="sig-name descname">ks_test</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#ks_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.ks_test" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if 2 sample Kolmogorov-Smirnov test indicates
that data distribution for last 10 datapoints (might be 10 minutes) is
different from the last 60 datapoints (might be an hour).
It produces false positives on non-stationary series so Augmented
Dickey-Fuller test applied to check for stationarity.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.detect_drop_off_cliff">
<code class="sig-name descname">detect_drop_off_cliff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#detect_drop_off_cliff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.detect_drop_off_cliff" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A timeseries is anomalous if the average of the last ten datapoints is &lt;trigger&gt;
times greater than the last data point.  This algorithm is most suited to
timeseries with most datapoints being &gt; 100 (e.g high rate).  The arbitrary
&lt;trigger&gt; values become more noisy with lower value datapoints, but it still
matches drops off cliffs.</p>
</dd></dl>

<dl class="py function">
<dt id="crucible.crucible_algorithms.run_algorithms">
<code class="sig-name descname">run_algorithms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span></em>, <em class="sig-param"><span class="n">timeseries_name</span></em>, <em class="sig-param"><span class="n">end_timestamp</span></em>, <em class="sig-param"><span class="n">full_duration</span></em>, <em class="sig-param"><span class="n">timeseries_file</span></em>, <em class="sig-param"><span class="n">skyline_app</span></em>, <em class="sig-param"><span class="n">algorithms</span></em>, <em class="sig-param"><span class="n">alert_interval</span></em>, <em class="sig-param"><span class="n">add_to_panorama</span></em>, <em class="sig-param"><span class="n">padded_timeseries</span></em>, <em class="sig-param"><span class="n">from_timestamp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/crucible/crucible_algorithms.html#run_algorithms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crucible.crucible_algorithms.run_algorithms" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Iteratively run algorithms.</p>
</dd></dl>

</div>
<div class="section" id="module-crucible">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-crucible" title="Permalink to this headline">Â¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="skyline.flux.html" class="btn btn-neutral float-right" title="skyline.flux package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="skyline.boundary.html" class="btn btn-neutral float-left" title="skyline.boundary package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2020, Gary Wilson

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>